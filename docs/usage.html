
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Getting Started &#8212; pyemaps 1.1.4 Stable documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    
    <link rel="shortcut icon" href="_static/pyemaps.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Visualisation" href="visualization.html" />
    <link rel="prev" title="Requirements" href="requirements.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="visualization.html" title="Visualisation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="requirements.html" title="Requirements"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyemaps 1.1.4 Stable documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Getting Started</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="getting-started">
<h1>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this heading">¶</a></h1>
<section id="installation">
<span id="id1"></span><h2>Installation<a class="headerlink" href="#installation" title="Permalink to this heading">¶</a></h2>
<p>To use pyEMAPS, first install it using pip:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp gp-VirtualEnv">(.venv)</span> <span class="gp">$ </span>pip install pyemaps
</pre></div>
</div>
<p>where .venv is the python virtual environment.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To prevent conflicts of pyEMAPS dependencies with your existing python
libraries, it is recommended that pyEMAPS install in its own python environment
such as that with Annaconda or Miniconda.</p>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">conda create -n &lt;env-name&gt; python=3.7</span>
<span class="go">conda activate &lt;env-name&gt;</span>
<span class="go">python -m pip install pyemaps</span>
</pre></div>
</div>
<p>where &lt;env-name&gt; is the name of the new conda environment.</p>
</section>
<section id="enviroment-variables">
<span id="environment-variables"></span><h2>Enviroment Variables<a class="headerlink" href="#enviroment-variables" title="Permalink to this heading">¶</a></h2>
<p><em>PYEMAPS_DATA</em> environment variable is set to represent pyEMAPS’ data home directory.
It provides a central location for organizing your own crystal data, and it is also used
for storing your simulation and calculation results.</p>
<p><strong>pyEMAPS</strong> searches crystal files in the following order when only file name is provided:</p>
<ol class="arabic simple">
<li><p>Current working directory.</p></li>
<li><p>Data home directory pointed by <em>PYEMAPS_DATA</em>.</p></li>
</ol>
<p>For output from <strong>pyEMAPS</strong> simulations and calculations, the placement order is reversed:</p>
<ol class="arabic simple">
<li><p>Data home directory pointed by <em>PYEMAPS_DATA</em> if it is set.</p></li>
<li><p>Current working directory.</p></li>
</ol>
<p>The layout of the pyEMAPS data home directory is as follows:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span><span class="o">(</span>PYEMAPS_DATA<span class="o">)=</span>&lt;<span class="nb">local</span> directory&gt;  <span class="c1"># pyemaps data home, must have read and write permisions</span>
<span class="gp">$</span><span class="o">(</span>PYEMAPS_DATA<span class="o">)</span>/crystals           <span class="c1"># hosts all custom crystal data files (.xtl, .cif)</span>
<span class="gp">$</span><span class="o">(</span>PYEMAPS_DATA<span class="o">)</span>/dif                <span class="c1"># location for all kinematic diffraction simulation output</span>
<span class="gp">$</span><span class="o">(</span>PYEMAPS_DATA<span class="o">)</span>/bloch              <span class="c1"># location for all Bloch dynamic simulations images output files</span>
<span class="gp">$</span><span class="o">(</span>PYEMAPS_DATA<span class="o">)</span>/stereo             <span class="c1"># location for all stereodiagram output files</span>
<span class="gp">$</span><span class="o">(</span>PYEMAPS_DATA<span class="o">)</span>/mxtal              <span class="c1"># place for all crystal constructor output files such as *.xyz</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The legacy environment variable $(PYEMAPS_CRYSTALS) is still supported if it is set.</p>
</div>
</section>
<section id="license-activation">
<span id="id2"></span><h2>License Activation<a class="headerlink" href="#license-activation" title="Permalink to this heading">¶</a></h2>
<p>There is no license requirement for many pf <strong>pyEMAPS</strong> base features. However, to access
its extended features like 4DSTEM, a license activation is required. The activations in pyEMAPS can
also be done without internet connection if isolation is desired. Finally, once license is activated,
all license checks are offline without requirement for internet connections.</p>
<p>To obtain a <strong>pyEMAPS</strong> license:</p>
<ul>
<li><p><strong>Trial license</strong>: <strong>pyEMAPS</strong> has a 7-days trial license that allows users to check out
the features without commiting to a pruchase. This license can also be converted or upgraded
to production license.</p>
<p>Use the following command to get the trial license when internet connection is available:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">pyemaps --license trial (-l)</span>
</pre></div>
</div>
</li>
<li><p><strong>License activation token</strong>: contact <a class="reference external" href="mailto:support&#37;&#52;&#48;emlabsoftware&#46;com">support<span>&#64;</span>emlabsoftware<span>&#46;</span>com</a> for the 19 character license
activation token. This way of activation can be used for both trial and product license
activation online or offline.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">pyemaps --license &lt;license token&gt; (-l)</span>
</pre></div>
</div>
<p>where &lt;license token&gt; is of format: XXXX-XXXX-XXXX-XXXX here X is an alpha numberic character.</p>
<p>Contact <a class="reference external" href="mailto:support&#37;&#52;&#48;emlabsoftware&#46;com">support<span>&#64;</span>emlabsoftware<span>&#46;</span>com</a> for obtaining a license activation token.</p>
</li>
<li><p><strong>License information</strong>: use the following command to find out if a license exists and valid.
If so, the license infomation is displayed.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">pyemaps --license info (-l)</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="quickstart-pyemaps">
<h2>Quickstart pyEMAPS<a class="headerlink" href="#quickstart-pyemaps" title="Permalink to this heading">¶</a></h2>
<p>After <em>pyEMAPS</em> installation, run the following to check if the package is installed
and setup correctly on your system by verifying the version and other information about
the package:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">pyemaps --version (-v)</span>
<span class="go">pyemaps --copyright (-c)</span>
</pre></div>
</div>
<p>A test for <em>pyEMAPS</em> basic kinematic function is also provided:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">pyemaps --sample (-s)</span>
</pre></div>
</div>
<p>All pyEMAPS simulations and calculations start from its
<a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal">Crystal class</a>.
To import the class:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyemaps</span> <span class="kn">import</span> <span class="n">Crystal</span>
</pre></div>
</div>
<p>Before starting pyEMAPS diffraction simulation, the crystal
object must be created and data loaded. The following example
creates a <em>si</em> crystal object by loading it from pyEMAPS
built-in database for Silicon crystal using
<a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.from_builtin">from_builtin</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyemaps</span> <span class="kn">import</span> <span class="n">Crystal</span> <span class="k">as</span> <span class="n">cr</span>

<span class="n">si</span> <span class="o">=</span> <span class="n">cr</span><span class="o">.</span><span class="n">from_builtin</span><span class="p">(</span><span class="s1">&#39;Silicon&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Pyemaps also provides methods for creating crystal objects from other
data sources, including imports from CIF, JSON formatted files. Go to
<a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal">Crystal class</a>
for more details.</p>
</div>
<p>Once a crystal object is created and loaded, it is ready for simulations
and calculations.</p>
<section id="kinematic-diffraction-simulation">
<h3>Kinematic Diffraction Simulation<a class="headerlink" href="#kinematic-diffraction-simulation" title="Permalink to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyemaps</span> <span class="kn">import</span> <span class="n">Crystal</span>            <span class="c1">#----pyemaps crystal module</span>
<span class="kn">from</span> <span class="nn">pyemaps</span> <span class="kn">import</span> <span class="n">DPList</span><span class="p">,</span> <span class="n">showDif</span>    <span class="c1">#----Helper modules</span>

<span class="n">si</span> <span class="o">=</span> <span class="n">Crystal</span><span class="o">.</span><span class="n">from_builtin</span><span class="p">(</span><span class="s1">&#39;Silicon&#39;</span><span class="p">)</span>   <span class="c1">#----loading Silicon crystal from builtin database</span>
<span class="n">emc</span><span class="p">,</span> <span class="n">si_dp</span> <span class="o">=</span> <span class="n">si</span><span class="o">.</span><span class="n">generateDP</span><span class="p">()</span>           <span class="c1">#----generate kinematic diffraction pattern</span>
                                       <span class="c1">#----Output:</span>
                                       <span class="c1">#----emc: associated microscope and</span>
                                       <span class="c1">#         simulation control object</span>
                                       <span class="c1">#----si_dp: diffraction pattern generated</span>
<span class="nb">print</span><span class="p">(</span><span class="n">si_dp</span><span class="p">)</span>                           <span class="c1">#----raw representation of kinematic diffraction pattern</span>

<span class="n">dpl</span> <span class="o">=</span> <span class="n">DPList</span><span class="p">(</span><span class="s1">&#39;Silicon&#39;</span><span class="p">)</span>                <span class="c1">#----create a diffraction pattern list to hold the results</span>
<span class="n">dpl</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">emc</span><span class="p">,</span> <span class="n">si_dp</span><span class="p">)</span>                    <span class="c1">#----can add more if desired</span>

<span class="n">showDif</span><span class="p">(</span><span class="n">dpl</span><span class="p">,</span> <span class="n">bClose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>             <span class="c1">#----visual representation of diffraction pattern</span>
</pre></div>
</div>
<p>Here crystal class method <em>generateDP</em> produces a kinmatic diffraction pattern or
<a class="reference external" href="pyemaps.kdiffs.html#pyemaps.kdiffs.diffPattern">DPList</a> (si_dp)
using all default control parameters .</p>
<p>Go to <a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.generateDP">generateDP</a> for a complete
list of control parameters.</p>
<p><em>showDif</em>, a method in the pyEMAPS <a class="reference external" href="pyemaps.display.html#module-pyemaps.display">display module</a>
visualizes the <em>si_dp</em> diffraction pattern with options controling whether to show Kikuchi lines or
Miller Indexes.</p>
</section>
<section id="bloch-wave-dynamic-diffraction-simulation">
<h3>Bloch Wave Dynamic Diffraction Simulation<a class="headerlink" href="#bloch-wave-dynamic-diffraction-simulation" title="Permalink to this heading">¶</a></h3>
<p>To simplify, we will call this simulation as Bloch or Bloch simulation throughout this help
document.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyemaps</span> <span class="kn">import</span> <span class="n">Crystal</span> <span class="k">as</span> <span class="n">cr</span>        <span class="c1"># Crystal class</span>
<span class="kn">from</span> <span class="nn">pyemaps</span> <span class="kn">import</span> <span class="n">BImgList</span>             <span class="c1"># Dynamic diffraction image list class</span>
<span class="kn">from</span> <span class="nn">pyemaps</span> <span class="kn">import</span> <span class="n">showBloch</span>            <span class="c1"># Builtin visualization helper function</span>

<span class="c1"># create a crystal class object and load it with builtin silicon data</span>
<span class="n">c_name</span> <span class="o">=</span> <span class="s1">&#39;Silicon&#39;</span>
<span class="n">si</span> <span class="o">=</span> <span class="n">cr</span><span class="o">.</span><span class="n">from_builtin</span><span class="p">(</span><span class="n">c_name</span><span class="p">)</span>

<span class="c1"># Generate dynamic diffraction patterns using pyEMAPS&#39; bloch module</span>
<span class="c1"># with all other default parameters except sampling</span>

<span class="k">try</span><span class="p">:</span>
  <span class="n">bloch_imgs_list</span> <span class="o">=</span> <span class="n">si</span><span class="o">.</span><span class="n">generateBloch</span><span class="p">(</span><span class="n">sampling</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span>

<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
  <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="k">else</span><span class="p">:</span>
  <span class="n">showBloch</span><span class="p">(</span><span class="n">bloch_imgs_list</span><span class="p">)</span> <span class="c1">#grey color map</span>
  <span class="n">showBloch</span><span class="p">(</span><span class="n">bloch_imgs_list</span><span class="p">,</span> <span class="n">bColor</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1">#with predefined color map</span>
</pre></div>
</div>
<p>The crystal method <em>generateBloch</em> starts a Bloch wave dynamic diffraction simulation with
the sampling resolution of 20 pixels along the disk radius.</p>
<p>For a complete set of controls and input parameters for the Bloch simulation,
go to <a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.generateBloch">generateBloch</a></p>
<p>Pyemaps also provides a helper class <a class="reference external" href="pyemaps.ddiffs.html#pyemaps.ddiffs.BlochImgs">BImgList</a>
and an image rendering method <em>showBloch</em> in <a class="reference external" href="pyemaps.display.html#module-pyemaps.display">display module</a>
visualizing the Bloch simulation results.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To generate multiple images with a specified range of sample thickness
and save them in raw image data file. See the description of <a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.generateBloch">generateBloch method</a>.</p>
<p>The raw image data file can be imprted into third party visualization tools
such as <a class="reference external" href="https://imagej.nih.gov/ij/">ImageJ</a> and
<a class="reference external" href="https://www.gatan.com/products/tem-analysis/gatan-microscopy-suite-software">DigitalMicrograph</a>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To start a Bloch simultion session and retrieve the scattering matrix
and other dynamic diffraction session information, see <a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.getSCMatrix">getSCMatrix method</a>
between <a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.beginBloch">beginBloch</a> and
<a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.endBloch">endBloch calls</a>.</p>
</div>
<p>To see all crystal names in the <em>pyEMAPS</em> built-in database, call
<a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.list_all_builtin_crystals">list_all_builtin_crystals</a>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyemaps</span> <span class="kn">import</span> <span class="n">Crystal</span> <span class="k">as</span> <span class="n">cr</span>
<span class="n">cr</span><span class="o">.</span><span class="n">list_all_builtin_crystals</span><span class="p">()</span>
</pre></div>
</div>
<p>Current list of built-in crystals in <em>pyEMAPS</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;Aluminium&#39;</span><span class="p">,</span> <span class="s1">&#39;AluminiumOxide&#39;</span><span class="p">,</span> <span class="s1">&#39;Aluminium_FCC&#39;</span><span class="p">,</span> <span class="s1">&#39;BariumTitanate_180k&#39;</span><span class="p">,</span> <span class="s1">&#39;BariumTitanate_270k&#39;</span><span class="p">,</span>
<span class="s1">&#39;BariumTitanate_Tetra&#39;</span><span class="p">,</span> <span class="s1">&#39;Boron_Tetra&#39;</span><span class="p">,</span> <span class="s1">&#39;CadmiumSelenide_Hex&#39;</span><span class="p">,</span> <span class="s1">&#39;CadmiumSulfide_Cubic&#39;</span><span class="p">,</span>
<span class="s1">&#39;CadmiumSulfide_Hex&#39;</span><span class="p">,</span> <span class="s1">&#39;Chromium_BCC&#39;</span><span class="p">,</span> <span class="s1">&#39;CopperOxide&#39;</span><span class="p">,</span> <span class="s1">&#39;Copper_FCC&#39;</span><span class="p">,</span> <span class="s1">&#39;Cu2O_Cuprite&#39;</span><span class="p">,</span> <span class="s1">&#39;Diamond&#39;</span><span class="p">,</span>
<span class="s1">&#39;ErbiumPyrogermanate&#39;</span><span class="p">,</span> <span class="s1">&#39;FePd_Tetra&#39;</span><span class="p">,</span> <span class="s1">&#39;FeS2_Pyrite&#39;</span><span class="p">,</span> <span class="s1">&#39;GalliumAntimonide&#39;</span><span class="p">,</span> <span class="s1">&#39;GalliumArsenide&#39;</span><span class="p">,</span>
<span class="s1">&#39;GalliumNitride&#39;</span><span class="p">,</span> <span class="s1">&#39;Germanium&#39;</span><span class="p">,</span> <span class="s1">&#39;Gold_FCC&#39;</span><span class="p">,</span> <span class="s1">&#39;IndiumArsenide&#39;</span><span class="p">,</span> <span class="s1">&#39;LaMnO3&#39;</span><span class="p">,</span> <span class="s1">&#39;LeadZirconateTitanate&#39;</span><span class="p">,</span>
<span class="s1">&#39;Li2MnO3&#39;</span><span class="p">,</span> <span class="s1">&#39;limno2&#39;</span><span class="p">,</span> <span class="s1">&#39;NaFeO2&#39;</span><span class="p">,</span> <span class="s1">&#39;Nb3Sn&#39;</span><span class="p">,</span> <span class="s1">&#39;Silicon&#39;</span><span class="p">,</span> <span class="s1">&#39;StrontiumTitanate&#39;</span><span class="p">,</span> <span class="s1">&#39;TelluriumDioxide&#39;</span><span class="p">,</span>
<span class="s1">&#39;TinDioxide_RT&#39;</span><span class="p">,</span> <span class="s1">&#39;TitaniumDioxide_Anatase&#39;</span><span class="p">,</span> <span class="s1">&#39;TitaniumDioxide_Rutile&#39;</span><span class="p">,</span> <span class="s1">&#39;TungstenDiselenide&#39;</span><span class="p">,</span>
<span class="s1">&#39;VanadiumDioxide_RT&#39;</span><span class="p">,</span> <span class="s1">&#39;ZincOxide&#39;</span><span class="p">,</span> <span class="s1">&#39;Zinc_HCP&#39;</span><span class="p">,</span> <span class="s1">&#39;ZirconiumNitride&#39;</span>
</pre></div>
</div>
</section>
<section id="experimental-diffraction-pattern-indexing">
<h3>Experimental Diffraction Pattern Indexing<a class="headerlink" href="#experimental-diffraction-pattern-indexing" title="Permalink to this heading">¶</a></h3>
<p>Electron diffraction patterns (DP) indexing is based on the template matching algorithm to
compare the acquired DPs to pre-built ones - A DP database generated by pyEMAPS DPGEN module.</p>
<p>In this feature, the crystal orietations and phases are determined from the best match or fit
to one of the DP in the pre-generated DP database:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyemaps</span> <span class="kn">import</span> <span class="n">Crystal</span> <span class="k">as</span> <span class="n">cr</span>
<span class="n">al</span> <span class="o">=</span> <span class="n">cr</span><span class="o">.</span><span class="n">from_builtin</span><span class="p">(</span><span class="s1">&#39;Aluminium&#39;</span><span class="p">)</span>
<span class="n">ret</span><span class="p">,</span> <span class="n">dbfn</span> <span class="o">=</span> <span class="n">al</span><span class="o">.</span><span class="n">generateDPDB</span><span class="p">(</span><span class="n">emc</span><span class="o">=</span><span class="n">EMC</span><span class="p">(),</span> <span class="n">res</span><span class="p">,</span> <span class="n">xa</span><span class="p">,</span> <span class="n">vertices</span><span class="p">)</span>
</pre></div>
</div>
<p>will generate a DP datbase for Aluminium crystal. Here <em>vertices</em> is an array of 3 or 4 zone axis
indexes that form an enclosed orientation surface area within which the diffraction patterns are generated.
The database will be saved in <em>dbfn</em>.</p>
<p>For details of this function go to:
<a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.generateDPDB">generateDPDB</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ret</span><span class="p">,</span> <span class="n">mr</span><span class="p">,</span> <span class="n">mc</span> <span class="o">=</span><span class="n">al</span><span class="o">.</span><span class="n">loadDPDB</span><span class="p">(</span><span class="n">dbfn</span> <span class="o">=</span> <span class="n">dbfn</span><span class="p">,</span> <span class="n">bShowDBMap</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>will be loading the database into pyEMAPS’ EDIOM module and ready for DP indexing.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">al</span><span class="o">.</span><span class="n">importSHExpImage</span><span class="p">(</span><span class="n">xifn</span><span class="p">,</span> <span class="n">bShow</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>loads the experimental DP file for indexing.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">al</span><span class="o">.</span><span class="n">indexExpDP</span><span class="p">(</span><span class="n">cc</span>                 <span class="o">=</span> <span class="mf">29.0</span><span class="p">,</span>
              <span class="n">sigma</span>              <span class="o">=</span> <span class="mf">3.0</span><span class="p">,</span>
              <span class="n">img_center</span>         <span class="o">=</span> <span class="p">(</span><span class="mf">99.923</span><span class="p">,</span> <span class="mf">99.919</span><span class="p">),</span>
              <span class="n">rmin</span>               <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
              <span class="n">search_box</span>         <span class="o">=</span> <span class="mf">10.0</span><span class="p">,</span>
              <span class="n">scaling_option</span>     <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
              <span class="n">filter_threshold</span>   <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
              <span class="n">peak_threshold</span>     <span class="o">=</span> <span class="mf">0.8</span><span class="p">)</span>
</pre></div>
</div>
<p>indexes the loaded DP image file above. See more details of the usage in
<a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.indexExpDP">indexExpDP</a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Diffraction pattern indexing feature is now in preview. Current limitaion of the preview
feature in this free package:</p>
<ol class="arabic simple">
<li><p>Crystals that are in cubic space group with space numbers of 225.</p></li>
<li><p>The experimental DP image sizes are limited 100 up to 512 pixels.</p></li>
<li><p>Diffraction database resolution is restricted in range 100 and 300 sampling points.</p></li>
</ol>
<p>Again, we appreciate any comments and suggestions for us to improve this feature. Contact us
at <a class="reference external" href="mailto:support&#37;&#52;&#48;emlabsoftware&#46;com">support<span>&#64;</span>emlabsoftware<span>&#46;</span>com</a> to send us your thoughts or inquiries for full packages
without above restrictions.</p>
</div>
</section>
</section>
<section id="samples-code">
<h2>Samples code<a class="headerlink" href="#samples-code" title="Permalink to this heading">¶</a></h2>
<p>Sample scripts for exploring <em>pyEMAPS</em> features are available in
pyEMAPS’ <em>samples</em> directory.</p>
<p>To copy all sample scripts from <em>pyEMAPS</em> package installation directory
to the current working directory, run:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">pyemaps -cp</span>
</pre></div>
</div>
<p>Below is a partial list of sample code:</p>
<ul>
<li><dl class="simple">
<dt><em>si_dif.py</em>:</dt><dd><p>shows how kinematic diffraction patterns are generated and rendered with
<em>matplotlib pyplot</em> module.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><em>si_bloch.py</em>, <em>si_lacbed.py</em>:</dt><dd><p>demonstrates dynamic diffraction simulations by <em>bloch</em> <em>pyemaps</em> module in two
modes: normal and large angle CBED.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><em>si_csf.py</em>:</dt><dd><p>calculates and outputs structure factors using <em>CSF</em> <em>pyemaps</em> module.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><em>powder.py</em>:</dt><dd><p>calculates and plots electron powder diffraction pattern using
<em>Powder</em> <em>pyemaps</em> module.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><em>si_stereo.py</em>:</dt><dd><p>plots stereodiagram using <em>Stereo</em> <em>pyemaps</em> module.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><em>al_dpgen.py</em>:</dt><dd><p>generates a proprietory diffraction database file for aluminium crystal. The
database file is to be used with 4DSTEM’s <em>ediom</em> module functions.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><em>al_ediom.py</em> (license activated features only):</dt><dd><p>indexes an experimental diffraction image for aluminium crystal.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><em>convert_image.py</em> (license activated features only):</dt><dd><p>converts any raw image into pyEMAPS proprietory small header formatted image .</p>
</dd>
</dl>
</li>
<li><dl>
<dt><em>adf.py</em> (license activated features only):</dt><dd><p>generates annular bright and dark fields, as well as a masked image from an experimental image.
You must have the example experimental diffraction image named <em>adftest900.im3</em> in the same directory.
The experimental diffraction image can be downloaded from <a class="reference external" href="https://zenodo.org/records/14028793/files/adftest900.im3?download=1">the official Zenodo site</a>.</p>
<p>Also, the mask image function requires the input mask image file to be pyEMAPS proprietory
small header formatted image. See <em>convert_image.py</em> sample code on how to convert your raw mask image input file before using it.</p>
</dd>
</dl>
</li>
</ul>
<p>More samples code will be added as more features and releases are available.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Requirements</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#enviroment-variables">Enviroment Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="#license-activation">License Activation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#quickstart-pyemaps">Quickstart pyEMAPS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#kinematic-diffraction-simulation">Kinematic Diffraction Simulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bloch-wave-dynamic-diffraction-simulation">Bloch Wave Dynamic Diffraction Simulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#experimental-diffraction-pattern-indexing">Experimental Diffraction Pattern Indexing</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#samples-code">Samples code</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="visualization.html">Visualisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">Licences for pyEMAPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="rn.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Modules, Classes and Interfaces</a></li>
</ul>

  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="requirements.html"
                          title="previous chapter">Requirements</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="visualization.html"
                          title="next chapter">Visualisation</a></p>
  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="visualization.html" title="Visualisation"
             >next</a> |</li>
        <li class="right" >
          <a href="requirements.html" title="Requirements"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyemaps 1.1.4 Stable documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Getting Started</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2022-2025, EMLab Solutions, Inc..
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
  </body>
</html>