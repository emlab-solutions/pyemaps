
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>pyemaps.crystals module &#8212; pyemaps 1.0.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyemaps 1.0.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">pyemaps.crystals module</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-pyemaps.crystals">
<span id="pyemaps-crystals-module"></span><h1>pyemaps.crystals module<a class="headerlink" href="#module-pyemaps.crystals" title="Permalink to this heading">¶</a></h1>
<p>Crystals module contains python classes and methods for creating,
importing and loading crystal data from various sources. It also 
provides the core interfaces to the backend diffraction simulations 
and calculations.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pyemaps.crystals.DW">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyemaps.crystals.</span></span><span class="sig-name descname"><span class="pre">DW</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.DW" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>Enumerated thermal property of crystal supported by <strong>pyemaps</strong></p>
<ul class="simple">
<li><p><strong>iso</strong>: Isotropic Debye-Waller Factor B (short for Isotropic)</p></li>
<li><p><strong>bij</strong>: Anisotropic Temperature Factor</p></li>
<li><p><strong>uij</strong>: Anisotropic Displacement Factor</p></li>
</ul>
<dl class="py attribute">
<dt class="sig sig-object py" id="pyemaps.crystals.DW.iso">
<span class="sig-name descname"><span class="pre">iso</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#pyemaps.crystals.DW.iso" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyemaps.crystals.DW.bij">
<span class="sig-name descname"><span class="pre">bij</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#pyemaps.crystals.DW.bij" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyemaps.crystals.DW.uij">
<span class="sig-name descname"><span class="pre">uij</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#pyemaps.crystals.DW.uij" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyemaps.crystals.Cell">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyemaps.crystals.</span></span><span class="sig-name descname"><span class="pre">Cell</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Cell" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Cell constant data class create and validate crystal unit cell 
lengths (a, b, c) and angles (alpha, beta, gamma).</p>
<p>To create a Cell object using the following python dict object:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;a&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;5.4307&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;b&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;5.4307&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;c&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;5.4307&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;alpha&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;90.0&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;beta&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;90.0&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;gamma&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;90.0&quot;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyemaps</span> <span class="kn">import</span> <span class="n">Cell</span>

<span class="n">si_cell</span> <span class="o">=</span> <span class="n">Cell</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">data_dict</span><span class="p">)</span>
</pre></div>
</div>
<p>To create a Cell object using the following python list:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyemaps</span> <span class="kn">import</span> <span class="n">Cell</span>

<span class="n">data_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;5.4307&quot;</span><span class="p">,</span> <span class="s2">&quot;5.4307&quot;</span><span class="p">,</span> <span class="s2">&quot;5.4307&quot;</span><span class="p">,</span> <span class="s2">&quot;90.0&quot;</span><span class="p">,</span> <span class="s2">&quot;90.0&quot;</span><span class="p">,</span> <span class="s2">&quot;90.0&quot;</span><span class="p">]</span>
<span class="c1"># or</span>
<span class="n">data_list</span> <span class="o">=</span> <span class="p">[</span><span class="mf">5.4307</span><span class="p">,</span> <span class="mf">5.4307</span><span class="p">,</span> <span class="mf">5.4307</span><span class="p">,</span> <span class="mf">90.0</span><span class="p">,</span> <span class="mf">90.0</span><span class="p">,</span> <span class="mf">90.0</span><span class="p">]</span>

<span class="n">si_cell</span> <span class="o">=</span> <span class="n">Cell</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">data_list</span><span class="p">)</span>
</pre></div>
</div>
<p>To create a Cell class object by setting individual attributes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyemaps</span> <span class="kn">import</span> <span class="n">Cell</span>

<span class="c1"># create a Cell object with all defaults values (0.0).</span>
<span class="n">si_cell</span> <span class="o">=</span> <span class="n">Cell</span><span class="p">()</span>
<span class="hll">
</span><span class="hll"><span class="n">si_cell</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="mf">5.4307</span>
</span><span class="hll"><span class="n">si_cell</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="mf">5.4307</span>
</span><span class="n">si_cell</span><span class="o">.</span><span class="n">c</span> <span class="o">=</span> <span class="mf">5.4307</span>
<span class="n">si_cell</span><span class="o">.</span><span class="n">alpha</span> <span class="o">=</span> <span class="mf">90.0</span>
<span class="n">si_cell</span><span class="o">.</span><span class="n">beta</span> <span class="o">=</span> <span class="mf">90.0</span>
<span class="n">si_cell</span><span class="o">.</span><span class="n">gamma</span> <span class="o">=</span> <span class="mf">90.0</span>
</pre></div>
</div>
<p>Validation of a Cell object data fails if input value for each arribute
is:</p>
<ol class="arabic simple">
<li><p>not numberal or numberal string.</p></li>
<li><p>length of input data is less than 6.</p></li>
</ol>
<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Cell.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Cell.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>This Cell constructor allows Cell construction with python dict and
list object, as well as customization.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<em>dict</em><em> or </em><em>list</em><em>, </em><em>optional</em>) – Cell constant python dictionary or list</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="pyemaps.errors.html#pyemaps.errors.CellValueError" title="pyemaps.errors.CellValueError"><strong>CellValueError</strong></a> – if cell data validations fail.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyemaps.crystals.Cell.a">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">a</span></span><a class="headerlink" href="#pyemaps.crystals.Cell.a" title="Permalink to this definition">¶</a></dt>
<dd><p>a cell length</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyemaps.crystals.Cell.b">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">b</span></span><a class="headerlink" href="#pyemaps.crystals.Cell.b" title="Permalink to this definition">¶</a></dt>
<dd><p>b cell length</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyemaps.crystals.Cell.c">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">c</span></span><a class="headerlink" href="#pyemaps.crystals.Cell.c" title="Permalink to this definition">¶</a></dt>
<dd><p>c cell length</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyemaps.crystals.Cell.alpha">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">alpha</span></span><a class="headerlink" href="#pyemaps.crystals.Cell.alpha" title="Permalink to this definition">¶</a></dt>
<dd><p>alpha cell angle</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyemaps.crystals.Cell.beta">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">beta</span></span><a class="headerlink" href="#pyemaps.crystals.Cell.beta" title="Permalink to this definition">¶</a></dt>
<dd><p>beta cell angle</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyemaps.crystals.Cell.gamma">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">gamma</span></span><a class="headerlink" href="#pyemaps.crystals.Cell.gamma" title="Permalink to this definition">¶</a></dt>
<dd><p>gamma cell angle</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Cell.prepare">
<span class="sig-name descname"><span class="pre">prepare</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Cell.prepare" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare cell constant data for loading into backend simulation modules</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyemaps.crystals.Atom">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyemaps.crystals.</span></span><span class="sig-name descname"><span class="pre">Atom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">iso.value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sym</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Atom" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Crystal atom descriptor class. Depending on the thermal types, its data
include atom symbol, positional data (x, y, z) and thermal coefficients
as well as its occupancy.</p>
<p>To create an isotropic Atom object with a python dict object:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;symb&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Si&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.125&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.125&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;z&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.125&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;d-w&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.4668&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;occ&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.00&quot;</span><span class="w"> </span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyemaps</span> <span class="kn">import</span> <span class="n">Atom</span>

<span class="n">data_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;symb&quot;</span><span class="p">:</span> <span class="s2">&quot;Si&quot;</span><span class="p">,</span>
    <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="s2">&quot;0.125&quot;</span><span class="p">,</span>
    <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="s2">&quot;0.125&quot;</span><span class="p">,</span>
    <span class="s2">&quot;z&quot;</span><span class="p">:</span> <span class="s2">&quot;0.125&quot;</span><span class="p">,</span>
    <span class="s2">&quot;d-w&quot;</span><span class="p">:</span> <span class="s2">&quot;0.4668&quot;</span><span class="p">,</span>
    <span class="s2">&quot;occ&quot;</span><span class="p">:</span> <span class="s2">&quot;1.00&quot;</span> 
<span class="p">}</span>
<span class="n">si_atom</span> <span class="o">=</span> <span class="n">Atom</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">data_dict</span><span class="p">)</span>
</pre></div>
</div>
<p>To create an isotropic Atom object with a python list object:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyemaps</span> <span class="kn">import</span> <span class="n">Atom</span>
<span class="n">data_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;0.125&quot;</span><span class="p">,</span> <span class="s2">&quot;0.125&quot;</span><span class="p">,</span> <span class="s2">&quot;0.125&quot;</span><span class="p">,</span> <span class="s2">&quot;0.4668&quot;</span><span class="p">,</span> <span class="s2">&quot;1.00&quot;</span><span class="p">]</span>
<span class="c1"># or</span>
<span class="n">data_list</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.125</span><span class="p">,</span> <span class="mf">0.125</span><span class="p">,</span> <span class="mf">0.125</span><span class="p">,</span> <span class="mf">0.4668</span><span class="p">,</span> <span class="mf">1.00</span><span class="p">]</span>

<span class="n">si_atom</span> <span class="o">=</span> <span class="n">Atom</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">data_list</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When atom positional data is entered as a python list object
the order of the elements must match their corresponding keys:</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;z&#39;</span><span class="p">,</span><span class="s1">&#39;d-w&#39;</span><span class="p">,</span><span class="s1">&#39;occ&#39;</span><span class="p">]</span>       <span class="c1"># for isotropic atom type</span>
<span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;z&#39;</span><span class="p">,</span><span class="s1">&#39;b11&#39;</span><span class="p">,</span><span class="s1">&#39;b22&#39;</span><span class="p">,</span><span class="s1">&#39;b33&#39;</span><span class="p">,</span><span class="s1">&#39;b12&#39;</span><span class="p">,</span><span class="s1">&#39;b13&#39;</span><span class="p">,</span><span class="s1">&#39;b23&#39;</span><span class="p">,</span><span class="s1">&#39;occ&#39;</span><span class="p">]</span>   <span class="c1">#for anisotropic atome types</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The list input for atom positional data can have ‘occ’ data missing. In which case
pyemaps will default its occupancy data to 1.0</p>
</div>
<p>To create an Atom class object by setting individual attributes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyemaps</span> <span class="kn">import</span> <span class="n">Atom</span>
<span class="c1"># create an Atom object with all defaults to its data members.</span>

<span class="n">si_at</span> <span class="o">=</span> <span class="n">Atom</span><span class="p">()</span>

<span class="n">si_at</span><span class="o">.</span><span class="n">symb</span> <span class="o">=</span> <span class="s1">&#39;Si&#39;</span>
<span class="n">si_at</span><span class="o">.</span><span class="n">loc</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.125</span><span class="p">,</span> <span class="mf">0.125</span><span class="p">,</span> <span class="mf">0.125</span><span class="p">,</span> <span class="mf">0.4668</span><span class="p">,</span> <span class="mf">1.00</span><span class="p">]</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Atom.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">iso.value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sym</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Atom.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Internal representation of single atom in a crystal object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a_type</strong> (<em>int</em><em>, </em><em>optional</em>) – Atom thermal factor type.</p></li>
<li><p><strong>data</strong> (<em>dict</em><em> or </em><em>list</em><em>, </em><em>optional</em>) – Atoms positional and other data input.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="pyemaps.errors.html#pyemaps.errors.UCError" title="pyemaps.errors.UCError"><strong>UCError</strong></a> – if data validation fails.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyemaps.crystals.Atom.atype">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">atype</span></span><a class="headerlink" href="#pyemaps.crystals.Atom.atype" title="Permalink to this definition">¶</a></dt>
<dd><p>Atom symbol</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyemaps.crystals.Atom.symb">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">symb</span></span><a class="headerlink" href="#pyemaps.crystals.Atom.symb" title="Permalink to this definition">¶</a></dt>
<dd><p>Atom symbol</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyemaps.crystals.Atom.loc">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">loc</span></span><a class="headerlink" href="#pyemaps.crystals.Atom.loc" title="Permalink to this definition">¶</a></dt>
<dd><p>atomic position, thermal factor or coefficients, occupacy information</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Atom.isISO">
<span class="sig-name descname"><span class="pre">isISO</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Atom.isISO" title="Permalink to this definition">¶</a></dt>
<dd><p>Check to see if this Atom thermal type is isotropic</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Atom.prepare">
<span class="sig-name descname"><span class="pre">prepare</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Atom.prepare" title="Permalink to this definition">¶</a></dt>
<dd><p>Format Atom data and prepare it for loading into backend simulation module.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyemaps.crystals.SPG">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyemaps.crystals.</span></span><span class="sig-name descname"><span class="pre">SPG</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.SPG" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Space Group class. This class includes:</p>
<ol class="arabic simple">
<li><p>Symmetry International Tables Number, and</p></li>
<li><p>Symmetry Space Group Setting</p></li>
</ol>
<p>It is part of Crystal objects.</p>
<p>To create a space group object with a python dictionary object:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyemaps</span> <span class="kn">import</span> <span class="n">SPG</span>

<span class="n">spg_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;number&quot;</span><span class="p">:</span> <span class="s2">&quot;227&quot;</span><span class="p">,</span> <span class="c1">#&lt;---Symmetry International Tables Number</span>
    <span class="s2">&quot;setting&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span>   <span class="c1">#&lt;---Symmetry Space Group Setting  </span>
<span class="p">}</span>

<span class="n">si_spg</span> <span class="o">=</span> <span class="n">SPG</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">spg_dict</span><span class="p">)</span>
</pre></div>
</div>
<p>To create a space group object with a python integer list:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyemaps</span> <span class="kn">import</span> <span class="n">SPG</span>

<span class="n">spg_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;227&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">]</span> 
<span class="c1"># or</span>
<span class="n">spg_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">227</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>

<span class="n">si_spg</span> <span class="o">=</span> <span class="n">SPG</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">spg_list</span><span class="p">)</span>
</pre></div>
</div>
<p>To create a space group object with custom data:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyemaps</span> <span class="kn">import</span> <span class="n">SPG</span>
<span class="n">si_spg</span> <span class="o">=</span> <span class="n">SPG</span><span class="p">()</span>
<span class="n">si_spg</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="mi">227</span>
<span class="n">si_spg</span><span class="o">.</span><span class="n">setting</span> <span class="o">=</span> <span class="mi">2</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.SPG.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.SPG.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>SPG object constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<em>dict</em><em> or </em><em>list</em><em>, </em><em>optional</em>) – Space group data input.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="pyemaps.errors.html#pyemaps.errors.SPGInvalidDataInputError" title="pyemaps.errors.SPGInvalidDataInputError"><strong>SPGInvalidDataInputError</strong></a> – if cell data validations fail.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyemaps.crystals.SPG.number">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">number</span></span><a class="headerlink" href="#pyemaps.crystals.SPG.number" title="Permalink to this definition">¶</a></dt>
<dd><p>Symmetry International Tables Number</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyemaps.crystals.SPG.setting">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">setting</span></span><a class="headerlink" href="#pyemaps.crystals.SPG.setting" title="Permalink to this definition">¶</a></dt>
<dd><p>Symmetry Space Group Setting</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.SPG.prepare">
<span class="sig-name descname"><span class="pre">prepare</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.SPG.prepare" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyemaps.crystals.</span></span><span class="sig-name descname"><span class="pre">Crystal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Diamond'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class is defined to capture and to validate crystal data. It is composed of
the following data:</p>
<ul class="simple">
<li><p><strong>cell</strong>: Cell object</p></li>
<li><p><strong>atoms</strong>: list of Atom objects</p></li>
<li><p><strong>spg</strong>: Space Group SPG object</p></li>
<li><p><strong>dw</strong>: Debye-waller factor type</p></li>
<li><p><strong>name</strong>: Crystal name</p></li>
</ul>
<p>Crystal class constructors include:</p>
<ol class="arabic simple">
<li><p>Crystal(name, data): python dictionary object (default)</p></li>
<li><p>From pyemaps built-in crystal database: <a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.from_builtin">from_builtin</a>;</p></li>
<li><p>From a pyemaps proprietory crystal data file: <a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.from_xtl">from_xtl</a>;</p></li>
<li><p>From Crystallographic Information File (CIF): <a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.from_cif">from_cif</a>;</p></li>
<li><p>From .JSON File: <a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.from_json">from_json</a>;</p></li>
<li><p>From a python dict object: <a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.from_dict">from_dict</a>;</p></li>
<li><p>Custom from individual components such as <a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Cell">Cell</a>, <a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Atom">Atom</a> objects</p></li>
</ol>
<p>To create a Crystal object using a python dictionary object:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyemaps</span> <span class="kn">import</span> <span class="n">Crystal</span>

<span class="n">c_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;cell&#39;</span><span class="p">:</span>                                           <span class="c1">#Cell constants</span>
                <span class="p">{</span>
                    <span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="s1">&#39;5.4307&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="s1">&#39;5.4307&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="s1">&#39;5.4307&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="s1">&#39;90.0&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;beta&#39;</span><span class="p">:</span> <span class="s1">&#39;90.0&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;gamma&#39;</span><span class="p">:</span> <span class="s1">&#39;90.0&#39;</span>
                <span class="p">},</span>
            <span class="s1">&#39;atoms&#39;</span><span class="p">:</span>                                        <span class="c1">#atomic info.</span>
                <span class="p">[</span>
                    <span class="p">{</span><span class="s1">&#39;symb&#39;</span><span class="p">:</span> <span class="s1">&#39;si&#39;</span><span class="p">,</span>                          <span class="c1">#atom symbol</span>
                    <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="s1">&#39;0.125&#39;</span><span class="p">,</span>                           <span class="c1">#atom coordinates</span>
                    <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="s1">&#39;0.125&#39;</span><span class="p">,</span>  
                    <span class="s1">&#39;z&#39;</span><span class="p">:</span> <span class="s1">&#39;0.125&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;d-w&#39;</span><span class="p">:</span> <span class="s1">&#39;0.4668&#39;</span><span class="p">,</span>                        <span class="c1">#Debye-waller factor</span>
                    <span class="s1">&#39;occ&#39;</span><span class="p">:</span> <span class="mf">1.00</span><span class="p">},</span>                           <span class="c1">#occupancy</span>
                <span class="p">],</span>
            <span class="s1">&#39;spg&#39;</span><span class="p">:</span>                                          <span class="c1">#space group info</span>
                <span class="p">{</span><span class="s1">&#39;number&#39;</span><span class="p">:</span> <span class="s1">&#39;227&#39;</span>                            <span class="c1">#symmetry international table(IT) number</span>
                <span class="s1">&#39;setting&#39;</span><span class="p">:</span> <span class="s1">&#39;2&#39;</span>                              <span class="c1">#symmetry space group setting</span>
                <span class="p">},</span>
            <span class="s1">&#39;dw&#39;</span><span class="p">:</span> 
                <span class="s1">&#39;iso&#39;</span>                                       <span class="c1">#Debye-waller factor</span>
            <span class="s1">&#39;name&#39;</span><span class="p">,</span> 
                <span class="s1">&#39;Silicon&#39;</span>                                   <span class="c1">#crystal name</span>
        <span class="p">}</span>

<span class="n">si</span> <span class="o">=</span> <span class="n">Crystal</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Silicon&#39;</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">c_dict</span><span class="p">)</span>
</pre></div>
</div>
<p>To create a Crystal object using pyemaps builtin crystal database:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyemaps</span> <span class="kn">import</span> <span class="n">Crystal</span>
<span class="n">si</span> <span class="o">=</span> <span class="n">Crystal</span><span class="o">.</span><span class="n">from</span><span class="p">(</span><span class="s1">&#39;Silicon&#39;</span><span class="p">)</span> 
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For a list of builtin crystal names, call:</p>
</div>
<p>To create a Crystal object with custom Cell, SPG and Atom objects:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyemaps</span> <span class="kn">import</span> <span class="n">Cell</span><span class="p">,</span> <span class="n">Atom</span><span class="p">,</span> <span class="n">SPG</span><span class="p">,</span> <span class="n">Crystal</span>
<span class="n">cell</span> <span class="o">=</span> <span class="n">Cell</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mf">5.4307</span><span class="p">,</span> <span class="mf">5.4307</span><span class="p">,</span> <span class="mf">5.4307</span><span class="p">,</span> <span class="mf">90.0</span><span class="p">,</span> <span class="mf">90.0</span><span class="p">,</span> <span class="mf">90.0</span><span class="p">])</span>
<span class="n">atom</span> <span class="o">=</span> <span class="n">Atom</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.125</span><span class="p">,</span> <span class="mf">0.125</span><span class="p">,</span> <span class="mf">0.125</span><span class="p">,</span> <span class="mf">0.4668</span><span class="p">,</span> <span class="mf">1.00</span><span class="p">])</span>
<span class="n">spg</span> <span class="o">=</span> <span class="n">SPG</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">227</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="n">si</span> <span class="o">=</span> <span class="n">Crystal</span><span class="p">()</span>

<span class="n">si</span><span class="o">.</span><span class="n">cell</span> <span class="o">=</span> <span class="n">cell</span>
<span class="n">si</span><span class="o">.</span><span class="n">atoms</span> <span class="o">=</span> <span class="p">[</span><span class="n">atom</span><span class="p">,]</span>
<span class="n">si</span><span class="o">.</span><span class="n">spg</span> <span class="o">=</span> <span class="n">spg</span>
<span class="n">si</span><span class="o">.</span><span class="n">dw</span> <span class="o">=</span> <span class="n">iso</span><span class="o">.</span><span class="n">value</span>
<span class="n">si</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Silicon&#39;</span> 
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All atoms in a crystal must have the same thermal type.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Diamond'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Default constructor for crystal object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>string</em><em>, </em><em>optional</em>) – Name of the crystal or default to ‘Diamond’</p></li>
<li><p><strong>data</strong> (<em>dict</em><em>, </em><em>optional</em>) – Other data of the crystal.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="pyemaps.errors.html#pyemaps.errors.CrystalClassError" title="pyemaps.errors.CrystalClassError"><strong>CrystalClassError</strong></a> – If data validations fail.</p>
</dd>
</dl>
<p>The dictionary object example for Silicon:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span>{&#39;cell&#39;:                                       
    {&#39;a&#39;: &#39;5.4307&#39;,
    &#39;b&#39;: &#39;5.4307&#39;,
    &#39;c&#39;: &#39;5.4307&#39;,
    &#39;alpha&#39;: &#39;90.0&#39;,
    &#39;beta&#39;: &#39;90.0&#39;,
    &#39;gamma&#39;: &#39;90.0&#39;},
&#39;atoms&#39;:                                        
    [
        {&#39;symb&#39;: &#39;si&#39;,                          
        &#39;x&#39;: &#39;0.125&#39;,                           
        &#39;y&#39;: &#39;0.125&#39;,  
        &#39;z&#39;: &#39;0.125&#39;,
        &#39;d-w&#39;: &#39;0.4668&#39;,                        
        &#39;occ&#39;: 1.00},                           
    ],
&#39;spg&#39;:                                          
    {&#39;number&#39;: &#39;227&#39;                            
    &#39;setting&#39;: &#39;2&#39;                              
    },
&#39;dw&#39;: &#39;iso&#39;                                     

}
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.angle">
<span class="sig-name descname"><span class="pre">angle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(1.0,</span> <span class="pre">0.0,</span> <span class="pre">0.0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.0,</span> <span class="pre">0.0,</span> <span class="pre">1.0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.angle" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates angle between two real space vectors or 
two reciprocal space vectors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v1</strong> (<em>tuple</em><em>, </em><em>optional</em>) – A vector of float coordinates</p></li>
<li><p><strong>v2</strong> (<em>tuple</em><em>, </em><em>optional</em>) – A vector of float coordinates</p></li>
<li><p><strong>ty</strong> (<em>int</em><em>, </em><em>optional</em>) – 0 real space, 1 reciprocal space</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>an angle between v1 and v2.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.beginBloch">
<span class="sig-name descname"><span class="pre">beginBloch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">aperture</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">DEF_APERTURE</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">omega</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">DEF_OMEGA</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">DEF_SAMPLING</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dbsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">DEF_CBED_DSIZE</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">em_controls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">EMC(cl=200,</span> <span class="pre">simc=SIMC(gmax=1.0,</span> <span class="pre">excitation=(0.3,</span> <span class="pre">1.0)))</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.beginBloch" title="Permalink to this definition">¶</a></dt>
<dd><p>Begins a dynamic diffraction (Bloch) simulation session. 
The simulation results are retained between this and 
<a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.endBloch">endBloch call</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>aperture</strong> (<em>float</em>) – Optional. Objective aperture</p></li>
<li><p><strong>omega</strong> (<em>float</em>) – Optional. Diagnization cutoff value</p></li>
<li><p><strong>sampling</strong> (<em>int</em>) – Optional. Number of sampling points</p></li>
<li><p><strong>dbsize</strong> (<em>float</em><em>, </em><em>optional</em>) – Diffracted beams size.</p></li>
<li><p><strong>em_controls</strong> (<em>pyemaps.EMC</em>) – Optional. electron <a class="reference external" href="pyemaps.emcontrols.html#module-pyemaps.emcontrols">microscope control</a> object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a tuple (n, ns) where ns is a list of sampling points; n is the number of sampling point</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
<p>Default values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DEF_APERTURE</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">DEF_OMEGA</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">DEF_SAMPLING</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">DEF_CBED_DSIZE</span> <span class="o">-</span> <span class="mf">0.16</span>
<span class="n">DEF_DSIZE_LIMITS</span> <span class="o">=</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>During the simulation session, results are retained in pyemaps 
bloch module. The following methods are used to retrieve the
result before the end of session:</p>
<ol class="arabic simple">
<li><p><a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.getBlochImages">getBlochimages</a>. 
Retrieve a list of bloch images</p></li>
<li><p><a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.getSCMatrix">getSCMatrix</a>. 
Retrieve a scattering matrix at a sampling point</p></li>
</ol>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Other information available during the session:</p>
<ol class="loweralpha simple">
<li><p>List of sampling points, diffraction beams tilts etc 
with <a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.printIBDetails">printIBDetails</a>;</p></li>
<li><p>Eigen values at each sampling points in 
<a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.getEigen">getEigen</a>;</p></li>
<li><p>Diagnization Miller indexes at each sampling point: 
<a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.getBeams">getBeams</a>;</p></li>
</ol>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.d2r">
<span class="sig-name descname"><span class="pre">d2r</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.0,</span> <span class="pre">0.0,</span> <span class="pre">0.0)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.d2r" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform vector from real to recriprocal space</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>v</strong> (<em>tuple</em><em>, </em><em>optional</em>) – A vector of float coordinates</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a transformed vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.endBloch">
<span class="sig-name descname"><span class="pre">endBloch</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.endBloch" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Clean up Bloch module. This function follows </dt><dd><p><a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.beginBloch">beginBloch</a></p>
</dd>
</dl>
<p>to mark the end of a dynamic simulation session.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.generateBloch">
<span class="sig-name descname"><span class="pre">generateBloch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">aperture</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">DEF_APERTURE</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">omega</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">DEF_OMEGA</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">DEF_SAMPLING</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pix_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">DEF_PIXSIZE</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">det_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">DEF_DETSIZE</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disk_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">DEF_CBED_DSIZE</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_thickness</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">DEF_THICKNESS</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">em_controls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">EMC(cl=200,</span> <span class="pre">simc=SIMC(gmax=1.0,</span> <span class="pre">excitation=(0.3,</span> <span class="pre">1.0)))</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bSave</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.generateBloch" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates dynamic diffraction (Bloch) image(s). This function is equivalent to 
calling :</p>
<ol class="arabic simple">
<li><p><a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.beginBloch">beginBloch</a></p></li>
<li><p><a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.getBlockImages">getBlockImages</a></p></li>
<li><p><a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.endBloch">endBloch</a></p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>aperture</strong> (<em>float</em><em>, </em><em>optional</em>) – Objective aperture.</p></li>
<li><p><strong>omega</strong> (<em>float</em><em>, </em><em>optional</em>) – Diagnization cutoff value, defaults to 10.</p></li>
<li><p><strong>sampling</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of sampling points</p></li>
<li><p><strong>pix_size</strong> (<em>int</em><em>, </em><em>optional</em>) – Detector pixel size in microns</p></li>
<li><p><strong>det_size</strong> (<em>int</em><em>, </em><em>optional</em>) – Detector size or output image size</p></li>
<li><p><strong>disk_size</strong> (<em>float</em><em>, </em><em>optional</em>) – Diffracted beams size in range</p></li>
<li><p><strong>thickness</strong> (<em>tuple</em><em> of </em><em>int</em><em>, </em><em>optional</em>) – Sample thickness in (start, end, step) tuple</p></li>
<li><p><strong>em_controls</strong> – Microscope controls object</p></li>
<li><p><strong>bSave</strong> (<em>bool</em><em>, </em><em>optional</em>) – <cite>True</cite> - save the output to a raw image file (ext: im3)</p></li>
</ul>
</dd>
</dl>
<p>Default values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DEF_APERTURE</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">DEF_OMEGA</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">DEF_SAMPLING</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">DEF_CBED_DSIZE</span> <span class="o">-</span> <span class="mf">0.16</span>
<span class="n">DEF_DSIZE_LIMITS</span> <span class="o">=</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="n">DEF_PIXSIZE</span> <span class="o">=</span> <span class="mi">25</span>
<span class="n">DEF_DETSIZE</span> <span class="o">=</span> <span class="mi">512</span>
<span class="n">DEF_THICKNESS</span> <span class="o">=</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There will be one slice of image generated for each sample
thickness specified by sample_thickness = (start, end, step) arguement:</p>
<p>start, start+step … start+N*step, end</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.generateCSF">
<span class="sig-name descname"><span class="pre">generateCSF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sftype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aptype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.generateCSF" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates structure factors.</p>
<p>:param kv:Accelaration Voltage in Kilo-Volts, default value 100
:type kv: int or float, optional</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>smax</strong> (<em>int</em><em> or </em><em>float</em><em>, </em><em>optional</em>) – Limit of Sin(theta)/Wave length, default value 0.5</p></li>
<li><p><strong>sftype</strong> (<em>, </em><em>int</em><em>, </em><em>optional</em>) – Structure factor types to be generated, default value 1 - x-ray</p></li>
<li><p><strong>aptype</strong> (<em>, </em><em>int</em><em>, </em><em>optional</em>) – Output format type, default value 0 - amplitude and phase</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a dict object with structure factor data</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>sftype</em> has the following value representing:</p>
<ol class="arabic simple">
<li><p>x-ray structure factor (default)</p></li>
<li><p>electron structure factor in volts (KV)</p></li>
<li><p>electron structure factor in 1/angstrom^2 in (KV)</p></li>
<li><p>electron absorption structure factor in 1/angstrom^2 (KV)</p></li>
</ol>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>aptype</em> has the following value representing structure factor format:</p>
<p>0: amplitude and phase
1: real and imaginary</p>
</div>
<p>The return of an array of structure factors in the following 
python dictionary format:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span>{
    &#39;hkl&#39;: (h,k,l),         # Miller Indices 
    &#39;sw&#39;: s,                # Sin(theta)/Wave length
    &#39;ds&#39;: d,                # d-spacing value
    &#39;amp_re&#39;: ar            # amplitude or real part 
    &#39;phase_im&#39;: ph          # phase or imaginary part
}
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.generateDP">
<span class="sig-name descname"><span class="pre">generateDP</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">em_controls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.generateDP" title="Permalink to this definition">¶</a></dt>
<dd><p>Kinematic diffraction simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mode</strong> (<em>int</em><em>, </em><em>optional</em>) – Mode of kinemetic diffraction - normal(1) or CBED(2).</p></li>
<li><p><strong>dsize</strong> (<em>float</em><em>, </em><em>optional</em>) – diffractted beam size, only applied to CBED mode.</p></li>
<li><p><strong>em_controls</strong> (<em>pyemaps.EMC</em><em>, </em><em>optional</em>) – <p><a class="reference external" href="pyemaps.emcontrols.html#module-pyemaps.emcontrols">Microscope control</a> object.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple (emc, dp) where emc is the microscope control and dp is a <a class="reference external" href="pyemaps.kdiffs.html#pyemaps.kdiffs.diffPattern">diffPattern</a> object .</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.generateDPDB">
<span class="sig-name descname"><span class="pre">generateDPDB</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">res</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.generateDPDB" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a list diffraction paterns and save them in proprietory
binary formatted database file.</p>
<p>The database created will be used for diffraction pattern indexing
and recognition functions.</p>
<p>This feature is accessible for paid customers only.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>res</strong> (<em>integer</em>) – resolution of the diffraction pattern</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.generateDif">
<span class="sig-name descname"><span class="pre">generateDif</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">em_controls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.generateDif" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Another kinematic diffraction simulation method to be deprecated in
stabel production soon. Its replacement is:
<a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.generateDP">generateDP</a>.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mode</strong> (<em>int</em>) – mode of kinemetic diffraction - normal(1) or CBED(2).</p></li>
<li><p><strong>dsize</strong> – diffractted beam size, only applied to CBED mode.</p></li>
<li><p><strong>dsize</strong> – float</p></li>
<li><p><strong>em_controls</strong> (<em>pyemaps.EMC</em>) – electron microscope controls object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>myDif.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pyemaps.DPList.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.generateMxtal">
<span class="sig-name descname"><span class="pre">generateMxtal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trMatrix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">ID_MATRIX</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trShift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">DEF_TRSHIFT</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cellbox</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">DEF_CELLBOX</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">DEF_XZ</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orShift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">DEF_ORSHIFT</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locASpace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">DEF_LOCASPACE</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.generateMxtal" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the crystal atomic structure data in .xyz format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>trMatrix</strong> (<em>array</em><em>, </em><em>optional</em>) – Transformation matrix</p></li>
<li><p><strong>trShift</strong> (<em>array</em><em>, </em><em>optional</em>) – Transformation shift</p></li>
<li><p><strong>cellbox</strong> (<em>array</em><em>, </em><em>optional</em>) – Locate atoms inside a box defined.</p></li>
<li><p><strong>xz</strong> (<em>array</em><em>, </em><em>optional</em>) – X and Z orientations in real space.</p></li>
<li><p><strong>orShift</strong> (<em>float</em><em>, </em><em>optional</em>) – Origin shift.</p></li>
<li><p><strong>locASpace</strong> (<em>array</em><em>, </em><em>optional</em>) – Locate atoms inside a box defined.</p></li>
<li><p><strong>bound</strong> (<em>float</em><em>, </em><em>optional</em>) – Location in A Space.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a python dictionary object of cell constants and 3D coordinates of atoms</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<p>Example of the .xyz data in python dictionary object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="n">xyz</span><span class="p">:</span> <span class="p">[(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">z1</span><span class="p">)</span><span class="o">...</span><span class="p">(</span><span class="n">xn</span><span class="p">,</span> <span class="n">yn</span><span class="p">,</span> <span class="n">zn</span><span class="p">)]</span>
    <span class="n">cell</span><span class="p">:</span> <span class="p">[</span><span class="o">...</span><span class="p">]</span> <span class="c1">#transformed cell constants</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.generatePowder">
<span class="sig-name descname"><span class="pre">generatePowder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t2max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">absp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bamp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.35</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bgamma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bmfact</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.02</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.generatePowder" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates powder diffraction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kv</strong> (<em>int</em><em> or </em><em>float</em><em>, </em><em>optional</em>) – Accelaration voltage in kilo-volts.</p></li>
<li><p><strong>t2max</strong> (<em>float</em><em>, </em><em>optional</em>) – Maximum scattering angle.</p></li>
<li><p><strong>smax</strong> (<em>float</em><em>, </em><em>optional</em>) – Maximum Sin(theta)/Wavelength.</p></li>
<li><p><strong>smax</strong> – Maximum Sin(theta)/Wavelength.</p></li>
<li><p><strong>eta</strong> (<em>float</em><em>, </em><em>optional</em>) – the mixing coefficient between gaussian and lorentzian in a pseudo-Voight peak function.</p></li>
<li><p><strong>gamma</strong> (<em>float</em><em>, </em><em>optional</em>) – Diffraction peaks half maximum half width.</p></li>
<li><p><strong>absp</strong> (<em>int</em><em>, </em><em>optional</em>) – With Absoption structure factor (1 -default) or not (0).</p></li>
<li><p><strong>isbgdon</strong> (<em>int</em><em>, </em><em>optional</em>) – Background on or not (default no background).</p></li>
<li><p><strong>bamp</strong> (<em>float</em><em>, </em><em>optional</em>) – Background amplitude.</p></li>
<li><p><strong>bgamma</strong> (<em>float</em><em>, </em><em>optional</em>) – Background width.</p></li>
<li><p><strong>bmfact</strong> (<em>float</em><em>, </em><em>optional</em>) – Background exponential damping factor.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>an array of 2 x 1000 with the first row representing the scattering angle 2theta and the second the intensity</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.generateStereo">
<span class="sig-name descname"><span class="pre">generateStereo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xa</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">2,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tilt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.0,</span> <span class="pre">0.0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">1)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.generateStereo" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate stereodiagram.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xa</strong> (<em>tuple</em><em> of </em><em>3 integers</em><em>, </em><em>optional</em>) – Crystal horizontal axis in reciprical space</p></li>
<li><p><strong>tilt</strong> (<em>tuple</em><em>, </em><em>optional</em>) – Sample tilts in (x,y)</p></li>
<li><p><strong>zone</strong> (<em>tuple</em><em>, </em><em>optional</em>) – Zone axis</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of stereodiagram elements represented by dict object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of dict object</p>
</dd>
</dl>
<p>Example of the stereodiagram output:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span>[
    {
        &quot;c&quot;: (x,y),              # center
        &quot;r&quot;: rad,                # radius
        &quot;idx&quot;: (h, k, l),        # Miller Index
    }
]    
</pre></div>
</div>
<p>To display the resulting stereodiagram, use 
<a class="reference external" href="pyemaps.display.html#pyemaps.display.showStereo">showStereo</a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.getBeams">
<span class="sig-name descname"><span class="pre">getBeams</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ib_coords</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bPrint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.getBeams" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints diffracted beams for given sample coordinates. It must be called 
during a dynamic diffraction simulation session marked by 
<a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.beginBloch">beginBloch</a>
and <a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.endBloch">endBloch</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ib_coords</strong> (<em>tuple</em>) – Optional. Sampling point coordinates tuple</p></li>
<li><p><strong>bPrint</strong> (<em>bool</em>) – Optional. True - print beams info on standard output</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.getBlochFN">
<span class="sig-name descname"><span class="pre">getBlochFN</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.getBlochFN" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a bloch image output file name.</p>
<p>Refer to <a class="reference internal" href="usage.html#environment-variables"><span class="std std-ref">Environment Variables</span></a> 
for how this file name is constructed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.getBlochImages">
<span class="sig-name descname"><span class="pre">getBlochImages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_thickness</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">DEF_THICKNESS</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pix_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">DEF_PIXSIZE</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">det_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">DEF_DETSIZE</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bSave</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.getBlochImages" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a set of dynamic diffraction image from the simulation 
sessiom marked by
<a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.beginBloch">beginBloch</a>. and 
<a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.endBloch">endBloch</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>thickness</strong> (<em>int</em>) – Optional. sample thickness range abd step in tuple of three integers (th_start, th_end, th_step)</p></li>
<li><p><strong>pix_size</strong> (<em>int</em>) – Optional. Detector pixel size in microns</p></li>
<li><p><strong>det_size</strong> (<em>int</em>) – Optional. Detector size or output image size</p></li>
<li><p><strong>bSave</strong> (<em>bool</em>) – Optional. True - save the output to a raw image file with extension of ‘im3’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a 2x2 raw intensity array of double precision intensity</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
<p>Default values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DEF_PIXSIZE</span> <span class="o">=</span> <span class="mi">25</span>
<span class="n">DEF_DETSIZE</span> <span class="o">=</span> <span class="mi">512</span>
<span class="n">DEF_THICKNESS</span> <span class="o">=</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.getEigen">
<span class="sig-name descname"><span class="pre">getEigen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ib_coords</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.getEigen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns eigen values for given sampling point.</p>
<p>It must be called during a dynamic diffraction simulation session
marked by
<a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.beginBloch">beginBloch</a> and 
<a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.endBloch">endBloch</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ib_coords</strong> (<em>tuple</em>) – Optional. Sampling point coordinates tuple</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a vector of complex numbers</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
<p>Example of the eigen vales:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Eigen values at: (0, 0):</span>
<span class="go">[ 0.04684002-0.00218389j -0.2064669 -0.00147516j -0.30446348+0.00055009j</span>
<span class="go">-0.27657617+0.00023512j -0.2765751 +0.00023515j  0.00539041-0.00382443j</span>
<span class="go">-0.535879  -0.00023585j -0.5612881 +0.00045343j -0.55369247+0.00026236j</span>
<span class="go">-0.55368818+0.00026249j -0.19093572+0.00066419j -0.1550311 +0.00045471j</span>
<span class="go">-0.15503166+0.00045471j -0.58842399-0.00202841j -0.67850191+0.00042728j</span>
<span class="go">-0.72713566+0.00060655j -0.70972681+0.00052279j -0.72092338+0.0005903j</span>
<span class="go">-0.72093237+0.00059052j -0.64608335-0.0001983j  -0.64607544-0.00019853j]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.getSCMatrix">
<span class="sig-name descname"><span class="pre">getSCMatrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ib_coords</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_thickness</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">DEF_THICKNESS[0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rvec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.getSCMatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtains scattering matrix at a given sampling point.</p>
<p>To get a list of sampling points used in this dynamic simulation session,
call <a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.getIBDetails">getIBDetails</a></p>
<p>or:</p>
<p>capture the output from 
<a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.beginBloch">beginBloch</a></p>
<p>This call must be made during a dynamic simulation session marked by
<a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.beginBloch">beginBloch</a> and   
<a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.endBloch">endBloch</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ib_coords</strong> (<em>tuple</em><em>, </em><em>optional</em>) – Sampling point coordinates tuple, defaults to (0.0, 0.0)</p></li>
<li><p><strong>thickness</strong> (<em>int</em><em>, </em><em>optional</em>) – Sample thickness. defaults to 200</p></li>
<li><p><strong>rvec</strong> (<em>tuple</em><em> of </em><em>floats</em><em>, </em><em>optional</em>) – R vector shifting atom coordinates in crystal, value between 0.0 and 1.0, defaults to (0.0,0.0,0.0)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>scattering matrix at a given sampling point</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>complex array</p>
</dd>
</dl>
<p>Default values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DEF_THICKNESS</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">200</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare and load crystal data into backend simulation module.</p>
<p>Once loaded into simulation modules, the crystal data will be
in backend module’s memory until unload() method is called or 
another crystal object calls this method.</p>
<p>Since all crystal objects use this method to load its data into
the shared silmulation modules, data races need to be avoided.</p>
<p>One way to prevent data races is to guard all simulations for 
one crystal object between its load() and unload() methods.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cty</strong> (<em>int</em><em>, </em><em>optional</em>) – 0 - normal crystal loading, 1 - loading for crystal constructor</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This routine is designed to minimize trips to the backend simulation modules
and therefore miximizing the performance. Users do not need to handle this calls
directly.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.plotPowder">
<span class="sig-name descname"><span class="pre">plotPowder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.plotPowder" title="Permalink to this definition">¶</a></dt>
<dd><p>Show powder diffraction created from 
<a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.generatePowder">generatePowder</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pw</strong> (<em>array</em><em>, </em><em>required</em>) – Powder diffraction data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.printCSF">
<span class="sig-name descname"><span class="pre">printCSF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sfs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.printCSF" title="Permalink to this definition">¶</a></dt>
<dd><p>Format and print structure factors to standard output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sfs</strong> (<em>dict</em><em>, </em><em>required</em>) – structure factor data generated from 
<a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.generateCSF">generateCSF</a>.</p>
</dd>
</dl>
<p>Example of the output for a X-Ray Structure Factor for Silicon:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">    -----X-ray Structure Factors----- </span>
<span class="go">crystal            : Silicon</span>
<span class="go">h k l              : Miller Index</span>
<span class="go">s-w                : Sin(ϴ)/Wavelength &lt;= 1.0</span>
<span class="go">d-s                : D-Spacing</span>

<span class="go">h   k    l        s-w             d-s          amplitude         phase</span>

<span class="go">1   1   1    0.1594684670    3.1354161069    58.89618        180.000000</span>
<span class="go">0   0   2    0.1841383247    2.7153500000    6.565563e-31    0.000000</span>
<span class="go">0   2   2    0.2604109162    1.9200423983    67.56880        180.000000</span>
<span class="go">1   1   3    0.3053588663    1.6374176590    44.24472        180.000000</span>
<span class="go">2   2   2    0.3189369340    1.5677080534    8.151511e-14    180.000000</span>
<span class="go">...</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.printIBDetails">
<span class="sig-name descname"><span class="pre">printIBDetails</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.printIBDetails" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a dynamic diffraction simulation details during a session
marked by 
<a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.beginBloch">beginBloch</a>. and 
<a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.endBloch">endBloch</a>.</p>
<p>Information regarding the simulation session include sampling points and their
associated tilts etc.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.printXYZ">
<span class="sig-name descname"><span class="pre">printXYZ</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyzdict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.printXYZ" title="Permalink to this definition">¶</a></dt>
<dd><p>Print mxtal data in .xyz format in standard output. 
Refer to <a class="reference external" href="https://wiki.jmol.org/index.php/File_formats/Formats/XYZ">XYZ format</a>
for its definition and usage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>xyzdict</strong> (<em>dict</em><em>, </em><em>required</em>) – Crystal structure data.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>An example of Silicon atomic structure by pyemaps:</p>
</div>
<div class="highlight-console: notranslate"><div class="highlight"><pre><span></span>216
    50.0 50.0 50.0 90.0 90.0 90.0
SI           0.6788375000   0.6788375000   0.6788375000 
SI           3.3941875000   3.3941875000   0.6788375000 
SI           4.7518625000   2.0365125000   2.0365125000 
SI           2.0365125000   4.7518625000   2.0365125000 
SI           3.3941875000   0.6788375000   3.3941875000 
...
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.r2d">
<span class="sig-name descname"><span class="pre">r2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.0,</span> <span class="pre">0.0,</span> <span class="pre">0.0)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.r2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform vector from recriprocal to real space</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>v</strong> (<em>tuple</em><em>, </em><em>optional</em>) – A vector of float coordinates</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Tranformed vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple of floats</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.set_sim_controls">
<span class="sig-name descname"><span class="pre">set_sim_controls</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">simc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.set_sim_controls" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets simulation controls in the backend.</p>
<p>This method also tries to minimize the trip to the backend 
simulation module by skipping the call to the backend if
default values are given.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>simc</strong> (<em>pyemaps.SIMC</em><em>, </em><em>optional</em>) – <a class="reference external" href="pyemaps.emcontrols.html#pyemaps.emcontrols.SIMControl">Simulation control</a> objects</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a href="#id15"><span class="problematic" id="id16">*</span></a>pyemaps” assumes that attributes in sim_control class are
rarely changed.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.unload">
<span class="sig-name descname"><span class="pre">unload</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.unload" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove crystal data from the memory in the backend simulation modules.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.vlen">
<span class="sig-name descname"><span class="pre">vlen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(1.0,</span> <span class="pre">0.0,</span> <span class="pre">0.0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.vlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates vector length real space vectors or in reciprocal 
space vectors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> (<em>tuple</em><em>, </em><em>optional</em>) – A vector of float coordinates</p></li>
<li><p><strong>ty</strong> (<em>int</em><em>, </em><em>optional</em>) – 0 real space, 1 reciprocal space</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>vector length in reciprical space or in reciprocal space</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.wavelength">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">wavelength</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.wavelength" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates electron wavelength.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kv</strong> (<em>float</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – High voltage</p>
</dd>
</dl>
<p>return: wave length
rtype: float</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.writeXYZ">
<span class="sig-name descname"><span class="pre">writeXYZ</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyzdict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.writeXYZ" title="Permalink to this definition">¶</a></dt>
<dd><p>Save mxtal data generated by pyemaps to a .xyz file &lt;fn&gt;
File path is composed by pyemaps depending on whether 
PYEMAP_DATA environment variable is set. For details how
<em>pyemaps</em> compose the file name see 
<a class="reference internal" href="usage.html#environment-variables"><span class="std std-ref">Environment Variables</span></a>
for details.</p>
<p>The file can be imported into external tool such as Jmole to
view its content.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.cell">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cell</span></span><a class="headerlink" href="#pyemaps.crystals.Crystal.cell" title="Permalink to this definition">¶</a></dt>
<dd><p>Cell constants</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.dw">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dw</span></span><a class="headerlink" href="#pyemaps.crystals.Crystal.dw" title="Permalink to this definition">¶</a></dt>
<dd><p>Debye-Waller factor or thermal factor</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#pyemaps.crystals.Crystal.name" title="Permalink to this definition">¶</a></dt>
<dd><p>crystal name</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.atoms">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">atoms</span></span><a class="headerlink" href="#pyemaps.crystals.Crystal.atoms" title="Permalink to this definition">¶</a></dt>
<dd><p>atom list</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.spg">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">spg</span></span><a class="headerlink" href="#pyemaps.crystals.Crystal.spg" title="Permalink to this definition">¶</a></dt>
<dd><p>Space group</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.isISO">
<span class="sig-name descname"><span class="pre">isISO</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.isISO" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if crystal thermal type is Isotropic or not</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.loaded">
<span class="sig-name descname"><span class="pre">loaded</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.loaded" title="Permalink to this definition">¶</a></dt>
<dd><p>Check to see if crystal data is loaded into simulation module
or not.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>True</cite> - loaded; otherwise <cite>False</cite></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.from_builtin">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_builtin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Diamond'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.from_builtin" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a crystal by importing data from pyemaps build-in 
crystal database</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cn</strong> (<em>string</em><em>, </em><em>optional</em>) – Name of the crystal in pyemaps’s builtin database.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="pyemaps.errors.html#pyemaps.errors.CrystalClassError" title="pyemaps.errors.CrystalClassError"><strong>CrystalClassError</strong></a> – If reading database fails or any of its components 
fail to validate.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For a list of pyemaps builtin crystal names, call:
Crystal.list_all_builtin_crystals() method</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.from_xtl">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_xtl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.from_xtl" title="Permalink to this definition">¶</a></dt>
<dd><p>To create a crystal object by importing data from xtl formtted file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fn</strong> (<em>string</em><em>, </em><em>required</em>) – Crystal data file name in pyemaps propietory format.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="pyemaps.errors.html#pyemaps.errors.CrystalClassError" title="pyemaps.errors.CrystalClassError"><strong>CrystalClassError</strong></a> – file reading fails or any of its components fail to validate.</p>
</dd>
</dl>
<p><strong>XTL Format Example:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">crystal</span> <span class="n">Aluminium</span><span class="p">:</span> <span class="n">dw</span> <span class="o">=</span> <span class="n">iso</span>
<span class="n">cell</span> <span class="mf">4.0493</span> <span class="mf">4.0493</span> <span class="mf">4.0493</span> <span class="mf">90.0000</span> <span class="mf">90.0000</span> <span class="mf">90.0000</span>
<span class="n">atom</span> <span class="n">al</span> <span class="mf">0.000000</span> <span class="mf">0.000000</span> <span class="mf">0.000000</span> <span class="mf">0.7806</span> <span class="mf">1.000000</span>
<span class="n">spg</span> <span class="mi">225</span> <span class="mi">1</span>
</pre></div>
</div>
<p><strong>Required Fields:</strong></p>
<ol class="arabic simple">
<li><p>dw = iso by default, other values: uij, bij</p></li>
<li><p>name: crystal name.</p></li>
<li><p>cell constants: six floating point values defining crystal cell.</p></li>
<li><p>atoms: one or two lines of atoms positions along with element symbol</p></li>
<li><p>spg: space group data. Two positive digits: [number, setting]</p></li>
</ol>
<p><strong>Validation</strong>:</p>
<ul class="simple">
<li><p>if dw == iso, atoms line must have at least 4 floating numbers in 
of (x,y,x,d-w,occ) where occ defaults to 1.00 if not provided.</p></li>
<li><p>if dw == uij,bij, each atom data must have at least 9 floating points like 
(x,y,z,b11,b22,b33,b12,b13,b23,occ)</p></li>
</ul>
<p><strong>Input File Name Search</strong>:</p>
<ul class="simple">
<li><p>Full path and exists.</p></li>
<li><p>Current working directory.</p></li>
<li><p><em>PYEMAPSHOME</em>/crystals directory, where
<em>PYEMAPSHOME</em> is an environment variable pointing to pyemaps data home directory.</p></li>
</ul>
<p>For detals how pyemaps look for crystal files, See <a class="reference internal" href="usage.html#environment-variables"><span class="std std-ref">Environment Variables</span></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.from_cif">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_cif</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.from_cif" title="Permalink to this definition">¶</a></dt>
<dd><p>import crystal data from a cif (Crystallographic Information File).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fn</strong> (<em>string</em><em>, </em><em>required</em>) – Crystal data file name in JSON format.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="pyemaps.errors.html#pyemaps.errors.CrystalClassError" title="pyemaps.errors.CrystalClassError"><strong>CrystalClassError</strong></a> – If file reading fails or any of its components 
(cell, atoms, spg) fail to validate.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.from_json">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jfn</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.from_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Import crystal data from a .json file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>jfn</strong> (<em>string</em><em>, </em><em>required</em>) – Crystal data file name in JSON format.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="pyemaps.errors.html#pyemaps.errors.CrystalClassError" title="pyemaps.errors.CrystalClassError"><strong>CrystalClassError</strong></a> – If file reading fails or any of its components fail to validate.</p>
</dd>
</dl>
<p>An example of a json file content:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;cell&quot;</span><span class="p">:</span><span class="w"> </span>
<span class="w">        </span><span class="p">{</span><span class="nt">&quot;a&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;5.4307&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;b&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;5.4307&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;c&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;5.4307&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;alpha&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;90.0&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;beta&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;90.0&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;gamma&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;90.0&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;atoms&quot;</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p">[</span><span class="w"></span>
<span class="w">            </span><span class="p">{</span><span class="nt">&quot;symb&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;si&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.125&quot;</span><span class="p">,</span><span class="w">  </span>
<span class="w">            </span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.125&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">            </span><span class="nt">&quot;z&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.125&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;d-w&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.4668&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">            </span><span class="nt">&quot;occ&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.00&quot;</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span>
<span class="w">        </span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;spg&quot;</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="nt">&quot;number&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;227&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;setting&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="w"> </span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;dw&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;iso&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Silicon&quot;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.from_dict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cdict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Import crystal data from a python dictionary object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cdict</strong> (<em>dict</em><em>, </em><em>required</em>) – Crystal data file name in as a python dictionary object.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="pyemaps.errors.html#pyemaps.errors.CrystalClassError" title="pyemaps.errors.CrystalClassError"><strong>CrystalClassError</strong></a> – If any of its components import fails.</p>
</dd>
</dl>
<p>An example of a json file content:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;cell&quot;</span><span class="p">:</span> 
        <span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="s2">&quot;5.4307&quot;</span><span class="p">,</span>
        <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="s2">&quot;5.4307&quot;</span><span class="p">,</span>
        <span class="s2">&quot;c&quot;</span><span class="p">:</span> <span class="s2">&quot;5.4307&quot;</span><span class="p">,</span>
        <span class="s2">&quot;alpha&quot;</span><span class="p">:</span> <span class="s2">&quot;90.0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;beta&quot;</span><span class="p">:</span> <span class="s2">&quot;90.0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gamma&quot;</span><span class="p">:</span> <span class="s2">&quot;90.0&quot;</span>
        <span class="p">},</span>
    <span class="s2">&quot;atoms&quot;</span><span class="p">:</span>
        <span class="p">[</span>
            <span class="p">{</span><span class="s2">&quot;symb&quot;</span><span class="p">:</span> <span class="s2">&quot;si&quot;</span><span class="p">,</span>
            <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="s2">&quot;0.125&quot;</span><span class="p">,</span>  
            <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="s2">&quot;0.125&quot;</span><span class="p">,</span> 
            <span class="s2">&quot;z&quot;</span><span class="p">:</span> <span class="s2">&quot;0.125&quot;</span><span class="p">,</span>
            <span class="s2">&quot;d-w&quot;</span><span class="p">:</span> <span class="s2">&quot;0.4668&quot;</span><span class="p">,</span> 
            <span class="s2">&quot;occ&quot;</span><span class="p">:</span> <span class="s2">&quot;1.00&quot;</span>
            <span class="p">}</span> 
        <span class="p">],</span>
    <span class="s2">&quot;spg&quot;</span><span class="p">:</span>
        <span class="p">{</span><span class="s2">&quot;number&quot;</span><span class="p">:</span> <span class="s2">&quot;227&quot;</span><span class="p">,</span>
        <span class="s2">&quot;setting&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span> 
        <span class="p">},</span>
    <span class="s2">&quot;dw&quot;</span><span class="p">:</span> <span class="s2">&quot;iso&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Silicon&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyemaps.crystals.Crystal.list_all_builtin_crystals">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">list_all_builtin_crystals</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyemaps.crystals.Crystal.list_all_builtin_crystals" title="Permalink to this definition">¶</a></dt>
<dd><p>To list all builtin crystals available in pyemaps built-in crystal database,
use this routine to determine the name of the crystal to load using 
<a class="reference external" href="pyemaps.crystals.html#pyemaps.crystals.Crystal.from_builtin">from_builtin</a>.</p>
</dd></dl>

</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Table of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="visualization.html">Visualisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">Licence</a></li>
<li class="toctree-l1"><a class="reference internal" href="rn.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Modules, Classes and Interfaces</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyemaps 1.0.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">pyemaps.crystals module</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2022, EMLab Solutions, Inc..
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
  </body>
</html>